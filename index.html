


<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- W3 Schools CSS -->
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
   
    
    <!-- Bootstrap CDN's -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    
  
</head>

<style>	
    body{
      background-color: yellow;	
      background-position: center;
      background-image: url("");
      min-height: 100%;
    }

    button {
      background-color: black;
      color: white;
      padding: 10px;
      margin: 8px 0;
      border: none;
      cursor: pointer;
      width: 18%;
      opacity: 0.9;
      border-radius: 4px;
    }
    button:hover {
      background-color: blue;
      border-radius: 4px;
      opacity: 100;
    }

    input[type=text]{
      color: white;
      width: 40%;
      padding: 10px;
      display: inline-block;
      border: none;
      background: black;
      border-radius: 4px;
    }
</style>

<body>
<center>

<!-- Nav Bar Section -->
<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">DIGITAL PREMIERES</a>
    </div>
    <ul class="nav navbar-nav">
    
      <li><a href="#">Home</a></li>
      
      <li class="dropdown">
        <a  class="dropdown-toggle" data-toggle="dropdown" href="#">Trending
        <span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a onClick=getMovies(Trending_All_Last_24h) href="#">Today</a></li>
          <li><a onClick=getMovies(Trending_All_Last_7d) href="#">Last Week</a></li>
          <li><a onClick=getMovies(Trending_Movies_Last_24h) href="#">Movies Today</a></li>
          <li><a onClick=getMovies(Trending_Movies_Last_7d) href="#">Movies Last Week</a></li>
          <li><a onClick=getMovies(Trending_Shows_Last_24h) href="#">Movies Today</a></li>
          <li><a onClick=getMovies(Trending_Shows_Last_7d) href="#">Movies Last Week</a></li>
        </ul>
      </li>
      
      <li class="dropdown">
      <a  class="dropdown-toggle" data-toggle="dropdown" href="#">Movies
        <span class="caret"></span></a>
        <ul class="dropdown-menu">
          <li><a onClick=getMovies(Telugu_Movies) href="#">Telugu</a></li>
          <li><a onClick=getMovies(Hindi_Movies) href="#">Hindi</a></li>
          <li><a onClick=getMovies(English_Movies) href="#">English</a></li>
          <li><a onClick=getMovies(Tamil_Movies) href="#">Tamil</a></li>
          <li><a onClick=getMovies(Malayalam_Movies) href="#">Malayalam</a></li>
          <li><a onClick=getMovies(Kannada_Movies) href="#">Kannada</a></li>
        </ul>
      </li>
   
    </ul>
	<form id="form">
            <input type="text" placeholder="Search Movie/Show" id="search" class="search">
            <button id="search" class="search">Search</button>
    </form>
  </div>
</nav>
<!-- /Nav Bar Section -->

<!-- Section Main -->
    <main id="main"> 
    
    </main>
    
<!-- / Section Main -->    

</center>
</body>

<script>

    //TMDB

    const API_KEY = 'api_key=9a85a018f878f3af62f324c75c332248';
    const BASE_URL = 'https://api.themoviedb.org/3';
    const LANG = '&language=en'
    const IMG_URL = 'https://image.tmdb.org/t/p/w500';
    const IMG_URL_ORI = 'https://image.tmdb.org/t/p/original';
    const searchURL = BASE_URL + '/search/movie?'+API_KEY;



    const DiscoverMovies = BASE_URL + '/discover/movie?'+ API_KEY+'&language=en-IN&region=IN';

    const DiscoverMovies_Popularity_DESC = BASE_URL + '/discover/movie?&region=IN&sort_by=popularity.desc&'+ API_KEY+'&language=en-IN';


    const Most_Popular_Movies = BASE_URL + '/discover/movie?&region=IN&sort_by=popularity.desc&'+API_KEY+'&language=en';


    // Get a list of the current popular movies on TMDB. This list updates daily.
    const Popular_Movies = BASE_URL + '/movie/popular?' + API_KEY + LANG + '&page=1' ;

    const Upcoming_Movies = BASE_URL + '/movie/upcoming?' + API_KEY + LANG + '&page=1' ;

    const Top_Rated_Movies = BASE_URL + '/movie/top_rated?' + API_KEY + LANG + '&page=1' ;

    const Movies_NowPlaying = BASE_URL + '/movie/now_playing?' + API_KEY + LANG + '&page=1' ;

    const Movies_Latest = BASE_URL + '/movie/latest?' + API_KEY;
    
    


    const Trending_All_Last_24h = BASE_URL + '/trending/all/day?' + API_KEY;

    const Trending_All_Last_7d = BASE_URL + '/trending/all/week?' + API_KEY;

    const Trending_Movies_Last_24h = BASE_URL + '/trending/movie/day?' + API_KEY;

    const Trending_Movies_Last_7d = BASE_URL + '/trending/movie/week?' + API_KEY;

    const Trending_Shows_Last_24h = BASE_URL + '/trending/tv/day?' + API_KEY;

    const Trending_Shows_Last_7d = BASE_URL + '/trending/tv/week?' + API_KEY;

    const Trending_Persons_Last_24h = BASE_URL + '/trending/person/day?' + API_KEY;

    const Trending_Persons_Last_7d = BASE_URL + '/trending/person/week?' + API_KEY;


    const Telugu_Movies = BASE_URL + '/discover/movie?&region=IN&' + API_KEY + '&with_original_language=te';

    const Tamil_Movies = BASE_URL + '/discover/movie?&region=IN&' + API_KEY + '&with_original_language=ta';

    const English_Movies = BASE_URL + '/discover/movie?&region=IN&' + API_KEY + '&with_original_language=en';

    const Hindi_Movies = BASE_URL + '/discover/movie?&region=IN&' + API_KEY + '&with_original_language=hi';

    const Malayalam_Movies = BASE_URL + '/discover/movie?' + API_KEY + '&with_original_language=ml';



    const main = document.getElementById('main');
    const form =  document.getElementById('form');
    const search = document.getElementById('search');
    

    getMovies(Trending_Movies_Last_7d)


    // Get Movies
    function getMovies(url) {
        fetch(url).then(res => res.json()).then(data => {
            console.log(data.results)
            showMovies(data.results);

        })
    }
    
    // Show Movies
    function showMovies(data) {
        main.innerHTML = '';

        data.forEach(movie => {
            const {title, poster_path, backdrop_path, popularity, vote_count, vote_average, overview, release_date, adult, original_title, original_language, video, id, provider_name, logo_path} = movie;
           const movieEl = document.createElement('div');
           movieEl.classList.add('movie');
            movieEl.innerHTML = `    
            
        <div class="w3-container w3-col s6 m3 l2 ">
            <img class="img-responsive img-rounded"  src="${poster_path? IMG_URL + poster_path: "http://via.placeholder.com/1080x1580/000000/FFFFFF/?text=No Poster Available"  }" alt="${title} style="width:100%;">
            
            <p>
            
            </p>
        </div>
            `
            main.appendChild(movieEl);
        })
    }

    // Search Function
    form.addEventListener('submit', (e) => {
        e.preventDefault();

        const searchTerm = search.value;

        if(searchTerm) {
            getMovies(searchURL+'&query='+searchTerm)
        }else{
            getMovies(API_URL);
        }
    })
    
</script>

</html>
